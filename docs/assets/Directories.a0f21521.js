import{j as e}from"./main.84a19ea1.js";import{r as u,u as S}from"./react-vendor.36470f4f.js";import{B as m}from"./react-toastify.esm.4d70bec4.js";import{e as b}from"./enqueue.c7bc3081.js";import{B as g}from"./button.8afd6105.js";import{f as y}from"./format.ad2c0b21.js";import"./isValid.f1396d2d.js";function d(s){return e.jsx("input",{className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200",...s})}function o({children:s,htmlFor:r,className:i=""}){return e.jsx("label",{htmlFor:r,className:`block text-sm font-medium text-gray-700 mb-1 ${i}`,children:s})}const p=[{id:"sam",name:"SAM.gov",url:"https://sam.gov"},{id:"dsbs",name:"DSBS",url:"https://dsbs.sba.gov"},{id:"sba-subnet",name:"SBA SubNet",url:"https://web.sba.gov/subnet"},{id:"gsa-ebuy",name:"GSA eBuy Vendor Profile",url:"https://www.gsaelibrary.gsa.gov"},{id:"georgia-pr",name:"Georgia Procurement Registry",url:"https://fscm.teamworks.georgia.gov/psc/supp/"},{id:"bonfire",name:"Bonfire (Forsyth)",url:"https://forsythco.bonfirehub.com/"},{id:"bidnet",name:"BidNet Direct",url:"https://www.bidnetdirect.com/"},{id:"atlanta",name:"City of Atlanta Procurement",url:"https://www.atlantaga.gov/government/departments/procurement"}],N=["Started","In Progress","Submitted","Approved","Rejected"];function B(){const[s,r]=u.useState({portal:"",url:"",username:"",status:"",submittedDate:y(new Date,"yyyy-MM-dd"),notes:""}),[i,h]=u.useState(!1),[x,f]=u.useState(!0),j=S();u.useEffect(()=>{if(s.portal){const t=p.find(a=>a.id===s.portal);t&&r(a=>({...a,url:t.url}))}},[s.portal]);const v=async t=>{var a;t.preventDefault(),h(!0);try{if(x){const n={id:`dir-${Date.now()}`,action:"register_vendor",payload:{portal:((a=p.find(c=>c.id===s.portal))==null?void 0:a.name)||s.portal,portalUrl:s.url,company:"Rare Earth Ltd",contact:{name:"Eric White",phone:"478-718-1278",email:"admin@thrarecontracting.com"},notes:s.notes||""}};await b(n),m.success("Vendor registration job enqueued successfully!")}else await b({type:"directory_entry",payload:s}),m.success("Directory entry submitted successfully!");r({portal:"",url:"",username:"",status:"",submittedDate:y(new Date,"yyyy-MM-dd"),notes:""})}catch(n){console.error("Error submitting directory entry:",n),m.error(`Error: ${n.message}`)}finally{h(!1)}},l=t=>{const{name:a,value:n}=t.target;r(c=>({...c,[a]:n}))};return e.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Directory Entry"}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"portal",children:"Portal *"}),e.jsxs("select",{id:"portal",name:"portal",className:"w-full border rounded px-3 py-2",value:s.portal,onChange:t=>r(a=>({...a,portal:t.target.value})),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a portal"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"url",children:"URL *"}),e.jsx(d,{id:"url",name:"url",value:s.url,onChange:l,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"username",children:"Username *"}),e.jsx(d,{id:"username",name:"username",value:s.username,onChange:l,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"status",children:"Status *"}),e.jsxs("select",{id:"status",name:"status",className:"w-full border rounded px-3 py-2",value:s.status,onChange:t=>r(a=>({...a,status:t.target.value})),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select status"}),N.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"submittedDate",children:"Submitted Date"}),e.jsx(d,{type:"date",id:"submittedDate",name:"submittedDate",value:s.submittedDate,onChange:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",children:"Notes"}),e.jsx(d,{id:"notes",name:"notes",value:s.notes,onChange:l,placeholder:"Any additional notes..."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"autoRegister",checked:x,onChange:t=>f(t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"autoRegister",className:"text-sm font-medium text-gray-700",children:"Auto-register vendor"})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx(g,{type:"submit",disabled:i,children:i?"Submitting...":"Save Entry"}),e.jsx(g,{type:"button",variant:"outline",onClick:()=>j(-1),disabled:i,children:"Cancel"})]})]})]})}export{B as default};
//# sourceMappingURL=Directories.a0f21521.js.map
