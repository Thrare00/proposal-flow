{"version":3,"file":"CeoActionsTabs.a8693d4c.js","sources":["../../src/pages/CeoActionsTabs.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport CeoActions from './CeoActions.jsx';\nimport Calendar from './Calendar.jsx';\nimport Reminders from './Reminders.jsx';\nimport Reports from './Reports.jsx';\nimport Directories from './Directories.jsx';\nimport { getReports } from '../lib/api.js';\n\nexport default function CeoActionsTabs() {\n  const [tab, setTab] = useState('ceo');\n  const [latestDaily, setLatestDaily] = useState(null);\n  const [latestWeekly, setLatestWeekly] = useState(null);\n  const [loadingReports, setLoadingReports] = useState(false);\n  const [reportsError, setReportsError] = useState(null);\n\n  useEffect(() => {\n    if (tab !== 'reports') return;\n    let mounted = true;\n    (async () => {\n      try {\n        setLoadingReports(true);\n        setReportsError(null);\n        const data = await getReports();\n        const items = Array.isArray(data?.reports) ? data.reports : (Array.isArray(data) ? data : []);\n        // Find most recent Daily and Weekly by updated time\n        const byUpdated = (a, b) => new Date(b.updatedTime || b.createdTime) - new Date(a.updatedTime || a.createdTime);\n        const daily = items.filter(r => /Daily Report/i.test(r.name)).sort(byUpdated)[0] || null;\n        const weekly = items.filter(r => /Weekly Report/i.test(r.name)).sort(byUpdated)[0] || null;\n        if (!mounted) return;\n        setLatestDaily(daily);\n        setLatestWeekly(weekly);\n      } catch (e) {\n        if (!mounted) return;\n        setReportsError(e.message || 'Failed to load reports');\n      } finally {\n        if (mounted) setLoadingReports(false);\n      }\n    })();\n    return () => { mounted = false; };\n  }, [tab]);\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <h1 className=\"text-2xl font-bold mb-4\">CEO Actions</h1>\n      <div className=\"border-b mb-4\">\n        <nav className=\"-mb-px flex space-x-6\" aria-label=\"Tabs\">\n          <button className={`py-2 border-b-2 ${tab==='ceo'?'border-blue-600 text-blue-600':'border-transparent text-gray-500'}`} onClick={()=>setTab('ceo')}>Checklist</button>\n          <button className={`py-2 border-b-2 ${tab==='calendar'?'border-blue-600 text-blue-600':'border-transparent text-gray-500'}`} onClick={()=>setTab('calendar')}>Calendar</button>\n          <button className={`py-2 border-b-2 ${tab==='reminders'?'border-blue-600 text-blue-600':'border-transparent text-gray-500'}`} onClick={()=>setTab('reminders')}>Reminders</button>\n          <button className={`py-2 border-b-2 ${tab==='directories'?'border-blue-600 text-blue-600':'border-transparent text-gray-500'}`} onClick={()=>setTab('directories')}>Directories</button>\n          <button className={`py-2 border-b-2 ${tab==='reports'?'border-blue-600 text-blue-600':'border-transparent text-gray-500'}`} onClick={()=>setTab('reports')}>Reports</button>\n        </nav>\n      </div>\n\n      {tab==='ceo' && (\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-semibold\">CEO Actions Checklist</h2>\n          {/* Reuse Reminders as a checklist view */}\n          <Reminders />\n        </div>\n      )}\n      {tab==='calendar' && <Calendar />}\n      {tab==='reminders' && <Reminders />}\n      {tab==='directories' && <Directories />}\n      {tab==='reports' && (\n        <div className=\"space-y-6\">\n          <h2 className=\"text-xl font-semibold\">Reports</h2>\n          {reportsError && (\n            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-3 text-sm\">{reportsError}</div>\n          )}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"p-4 bg-white rounded-lg border\">\n              <h3 className=\"font-medium mb-2\">Previous Daily Report</h3>\n              {loadingReports ? (\n                <p className=\"text-sm text-gray-500\">Loading…</p>\n              ) : latestDaily ? (\n                <div className=\"text-sm\">\n                  <div className=\"mb-2\">{latestDaily.name}</div>\n                  <a className=\"text-blue-600 hover:underline\" href={latestDaily.webViewLink} target=\"_blank\" rel=\"noreferrer\">Open</a>\n                </div>\n              ) : (\n                <p className=\"text-sm text-gray-500\">No daily report found.</p>\n              )}\n            </div>\n            <div className=\"p-4 bg-white rounded-lg border\">\n              <h3 className=\"font-medium mb-2\">Current Weekly Report</h3>\n              {loadingReports ? (\n                <p className=\"text-sm text-gray-500\">Loading…</p>\n              ) : latestWeekly ? (\n                <div className=\"text-sm\">\n                  <div className=\"mb-2\">{latestWeekly.name}</div>\n                  <a className=\"text-blue-600 hover:underline\" href={latestWeekly.webViewLink} target=\"_blank\" rel=\"noreferrer\">Open</a>\n                </div>\n              ) : (\n                <p className=\"text-sm text-gray-500\">No weekly report found.</p>\n              )}\n            </div>\n          </div>\n          {/* Full list below for convenience */}\n          <Reports />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["CeoActionsTabs","tab","setTab","useState","latestDaily","setLatestDaily","latestWeekly","setLatestWeekly","loadingReports","setLoadingReports","reportsError","setReportsError","useEffect","mounted","data","getReports","items","byUpdated","a","b","daily","r","weekly","e","jsxs","jsx","Reminders","Calendar","Directories","Reports"],"mappings":"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"}