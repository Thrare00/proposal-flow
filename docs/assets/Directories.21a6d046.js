import{j as e}from"./main.e194e0a1.js";import{r as l,u as S}from"./react-vendor.36470f4f.js";import{B as m}from"./react-toastify.esm.4d70bec4.js";import{e as y}from"./enqueue.d1a4464b.js";import{B as b}from"./button.175fd91f.js";import{L as n,I as d}from"./label.fb73a7ae.js";import{f as g}from"./format.ad2c0b21.js";import"./isValid.f1396d2d.js";const p=[{id:"sam",name:"SAM.gov",url:"https://sam.gov"},{id:"dsbs",name:"DSBS",url:"https://dsbs.sba.gov"},{id:"sba-subnet",name:"SBA SubNet",url:"https://web.sba.gov/subnet"},{id:"gsa-ebuy",name:"GSA eBuy Vendor Profile",url:"https://www.gsaelibrary.gsa.gov"},{id:"georgia-pr",name:"Georgia Procurement Registry",url:"https://fscm.teamworks.georgia.gov/psc/supp/"},{id:"bonfire",name:"Bonfire (Forsyth)",url:"https://forsythco.bonfirehub.com/"},{id:"bidnet",name:"BidNet Direct",url:"https://www.bidnetdirect.com/"},{id:"atlanta",name:"City of Atlanta Procurement",url:"https://www.atlantaga.gov/government/departments/procurement"}],N=["Started","In Progress","Submitted","Approved","Rejected"];function P(){const[s,o]=l.useState({portal:"",url:"",username:"",status:"",submittedDate:g(new Date,"yyyy-MM-dd"),notes:""}),[u,h]=l.useState(!1),[x,f]=l.useState(!0),v=S();l.useEffect(()=>{if(s.portal){const t=p.find(a=>a.id===s.portal);t&&o(a=>({...a,url:t.url}))}},[s.portal]);const j=async t=>{var a;t.preventDefault(),h(!0);try{if(x){const r={id:`dir-${Date.now()}`,action:"register_vendor",payload:{portal:((a=p.find(c=>c.id===s.portal))==null?void 0:a.name)||s.portal,portalUrl:s.url,company:"Rare Earth Ltd",contact:{name:"Eric White",phone:"478-718-1278",email:"admin@thrarecontracting.com"},notes:s.notes||""}};await y(r),m.success("Vendor registration job enqueued successfully!")}else await y({type:"directory_entry",payload:s}),m.success("Directory entry submitted successfully!");o({portal:"",url:"",username:"",status:"",submittedDate:g(new Date,"yyyy-MM-dd"),notes:""})}catch(r){console.error("Error submitting directory entry:",r),m.error(`Error: ${r.message}`)}finally{h(!1)}},i=t=>{const{name:a,value:r}=t.target;o(c=>({...c,[a]:r}))};return e.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Directory Entry"}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"portal",children:"Portal *"}),e.jsxs("select",{id:"portal",name:"portal",className:"w-full border rounded px-3 py-2",value:s.portal,onChange:t=>o(a=>({...a,portal:t.target.value})),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a portal"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"url",children:"URL *"}),e.jsx(d,{id:"url",name:"url",value:s.url,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"username",children:"Username *"}),e.jsx(d,{id:"username",name:"username",value:s.username,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"status",children:"Status *"}),e.jsxs("select",{id:"status",name:"status",className:"w-full border rounded px-3 py-2",value:s.status,onChange:t=>o(a=>({...a,status:t.target.value})),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select status"}),N.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"submittedDate",children:"Submitted Date"}),e.jsx(d,{type:"date",id:"submittedDate",name:"submittedDate",value:s.submittedDate,onChange:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"notes",children:"Notes"}),e.jsx(d,{id:"notes",name:"notes",value:s.notes,onChange:i,placeholder:"Any additional notes..."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"autoRegister",checked:x,onChange:t=>f(t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"autoRegister",className:"text-sm font-medium text-gray-700",children:"Auto-register vendor"})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx(b,{type:"submit",disabled:u,children:u?"Submitting...":"Save Entry"}),e.jsx(b,{type:"button",variant:"outline",onClick:()=>v(-1),disabled:u,children:"Cancel"})]})]})]})}export{P as default};
//# sourceMappingURL=Directories.21a6d046.js.map
