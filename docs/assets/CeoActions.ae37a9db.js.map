{"version":3,"file":"CeoActions.ae37a9db.js","sources":["../../src/pages/CeoActions.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { enqueue } from '../lib/enqueue.js';\nimport { Button, Input, Label } from '../components/ui/index.js';\n\n// Simple runtime check in dev\nif (import.meta.env.DEV && typeof Button !== 'function') {\n  console.warn('Button import did not resolve to a component');\n}\n\nexport default function CeoActions() {\n  const [formData, setFormData] = useState({\n    subject: '',\n    date: new Date().toISOString().slice(0, 10),\n    time: '09:00',\n    duration: 30,\n    body: '',\n    reminder: 15\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    // Combine date and time into a single ISO string\n    const startDateTime = new Date(`${formData.date}T${formData.time}`);\n    \n    const job = {\n      id: `ceo-${Date.now()}`,\n      action: 'outlook_reminder',\n      payload: {\n        Subject: formData.subject,\n        Start: startDateTime.toISOString(),\n        DurationMinutes: parseInt(formData.duration, 10),\n        Body: formData.body,\n        ReminderMinutesBeforeStart: parseInt(formData.reminder, 10)\n      }\n    };\n\n    try {\n      const result = await enqueue(job);\n      toast.success('CEO action queued successfully!');\n      console.log('Enqueue result:', result);\n      // Reset form\n      setFormData({\n        subject: '',\n        date: new Date().toISOString().slice(0, 10),\n        time: '09:00',\n        duration: 30,\n        body: '',\n        reminder: 15\n      });\n    } catch (error) {\n      console.error('Error enqueuing CEO action:', error);\n      toast.error(`Failed to queue CEO action: ${error.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h1 className=\"text-2xl font-bold mb-6\">CEO Action Item</h1>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-6 max-w-2xl\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"subject\">Subject *</Label>\n          <Input\n            id=\"subject\"\n            name=\"subject\"\n            value={formData.subject}\n            onChange={handleChange}\n            placeholder=\"E.g., Follow up with client\"\n            required\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"date\">Date *</Label>\n            <Input\n              type=\"date\"\n              id=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          \n          <div className=\"space-y-2\">\n            <Label htmlFor=\"time\">Time *</Label>\n            <Input\n              type=\"time\"\n              id=\"time\"\n              name=\"time\"\n              value={formData.time}\n              onChange={handleChange}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"duration\">Duration (minutes) *</Label>\n          <Input\n            type=\"number\"\n            id=\"duration\"\n            name=\"duration\"\n            min=\"5\"\n            max=\"1440\"\n            value={formData.duration}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"reminder\">Reminder (minutes before) *</Label>\n          <Input\n            type=\"number\"\n            id=\"reminder\"\n            name=\"reminder\"\n            min=\"0\"\n            max=\"40320\" // 4 weeks in minutes\n            value={formData.reminder}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"body\">Details</Label>\n          <textarea\n            id=\"body\"\n            name=\"body\"\n            value={formData.body}\n            onChange={handleChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            rows={4}\n            placeholder=\"Additional details about this action item...\"\n          />\n        </div>\n\n        <div className=\"flex space-x-4 pt-4\">\n          <Button type=\"submit\" disabled={isSubmitting}>\n            {isSubmitting ? 'Creating Reminder...' : 'Create Reminder'}\n          </Button>\n          <Button \n            type=\"button\" \n            variant=\"outline\" \n            onClick={() => navigate(-1)}\n            disabled={isSubmitting}\n          >\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":["CeoActions","formData","setFormData","useState","isSubmitting","setIsSubmitting","navigate","useNavigate","handleSubmit","e","startDateTime","job","result","enqueue","toast","error","handleChange","name","value","prev","jsxs","jsx","Label","Input","Button"],"mappings":"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"}