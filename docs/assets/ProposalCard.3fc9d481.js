import{j as e}from"./main.76ce9a6a.js";import{R as v,L as C}from"./react-vendor.36470f4f.js";import{P as s,g as D,i as c,f as $,h as w}from"./dateUtils.a866c5f2.js";import{c as u,g as O}from"./statusUtils.42174679.js";import{m as T,r as P,f as k,e as z,g as A,Q as R}from"./ui-lib.676c71c1.js";const h=({proposal:t={},showActions:p=!0})=>{if(!t||typeof t!="object")return e.jsx("div",{className:"card border-l-4 border-l-gray-300 p-4",children:e.jsx("div",{className:"text-gray-500",children:"Invalid proposal data"})});const{id:x,title:y="Untitled Proposal",agency:j="No Agency",dueDate:g,status:d="drafting",tasks:n=[]}=t,a=D(g),f=w(a),N=O(d),b=n.length>0&&n.every(l=>l==null?void 0:l.completed),r=n.length,m=n.filter(l=>l==null?void 0:l.completed).length,i=r>0?Math.round(m/r*100):0,o=c(g);return e.jsxs("div",{className:`card border-l-4 ${o||a==="critical"?"border-l-error-500":a==="high"?"border-l-warning-500":a==="medium"?"border-l-accent-500":"border-l-success-500"} hover:shadow-md transition-all`,"aria-labelledby":`proposal-${x}-title`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{id:`proposal-${x}-title`,className:"text-xl font-semibold line-clamp-1",children:y}),e.jsx("span",{className:`badge ${N}`,"aria-label":`Status: ${u(d)}`,children:u(d)})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(T,{size:16,className:"mr-2","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:j})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{size:16,className:`mr-2 ${o?"text-error-500":"text-gray-600"}`,"aria-hidden":"true"}),e.jsxs("span",{className:`text-sm ${o?"text-error-600 font-medium":"text-gray-600"}`,children:[c(t.dueDate)?"Overdue: ":"Due: ",$(t.dueDate),c(t.dueDate)&&e.jsx(k,{size:14,className:"inline ml-1 text-error-500"})]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(z,{size:16,className:"mr-2"}),e.jsx("span",{className:`text-sm ${f} px-2 py-0.5 rounded-full`,children:a==="critical"?c(t.dueDate)?"Overdue":"Due immediately":a==="high"?"Due soon":a==="medium"?"Approaching":"On track"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Task Progress"}),e.jsxs("span",{className:"text-sm font-medium",children:[m,"/",r," (",i,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${i===100?"bg-success-500":i>50?"bg-accent-500":i>0?"bg-primary-500":"bg-gray-300"}`,style:{width:`${i}%`}})}),r===0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No tasks created yet"})]}),p&&e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-gray-100",children:[e.jsx("div",{children:b&&r>0?e.jsxs("span",{className:"flex items-center text-sm text-success-600",children:[e.jsx(A,{size:16,className:"mr-1"}),"All tasks complete"]}):e.jsx("span",{className:"text-sm text-gray-500",children:r>0?`${r-m} tasks remaining`:"No tasks added"})}),e.jsxs(C,{to:`/proposals/${t.id}/analyze`,className:"flex items-center text-primary-600 hover:text-primary-800 text-sm font-medium",children:["View Details",e.jsx(R,{size:16,className:"ml-1"})]})]})]})};h.propTypes={proposal:s.shape({id:s.oneOfType([s.string,s.number]).isRequired,title:s.string,agency:s.string,dueDate:s.oneOfType([s.string,s.instanceOf(Date)]),status:s.string,tasks:s.arrayOf(s.shape({id:s.oneOfType([s.string,s.number]),title:s.string,completed:s.bool}))}),showActions:s.bool};const E=v.memo(h);export{E as P};
//# sourceMappingURL=ProposalCard.3fc9d481.js.map
