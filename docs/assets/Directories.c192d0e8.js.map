{"version":3,"file":"Directories.c192d0e8.js","sources":["../../src/pages/Directories.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { enqueue } from '../lib/enqueue.js';\nimport { format } from 'date-fns';\nimport { Button, Input, Label } from '../components/ui/index.js';\n\n// Inline styles for form elements\nconst formStyles = {\n  container: 'max-w-2xl mx-auto p-6 bg-white rounded-lg shadow',\n  form: 'space-y-4',\n  formGroup: 'space-y-2',\n  label: 'block text-sm font-medium text-gray-700',\n  input: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500',\n  select: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500',\n  button: 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50',\n  checkbox: 'h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500',\n};\n\nconst PORTAL_OPTIONS = [\n  { id: 'sam', name: 'SAM.gov', url: 'https://sam.gov' },\n  { id: 'dsbs', name: 'DSBS', url: 'https://dsbs.sba.gov' },\n  { id: 'sba-subnet', name: 'SBA SubNet', url: 'https://web.sba.gov/subnet' },\n  { id: 'gsa-ebuy', name: 'GSA eBuy Vendor Profile', url: 'https://www.gsaelibrary.gsa.gov' },\n  { id: 'georgia-pr', name: 'Georgia Procurement Registry', url: 'https://fscm.teamworks.georgia.gov/psc/supp/' },\n  { id: 'bonfire', name: 'Bonfire (Forsyth)', url: 'https://forsythco.bonfirehub.com/' },\n  { id: 'bidnet', name: 'BidNet Direct', url: 'https://www.bidnetdirect.com/' },\n  { id: 'atlanta', name: 'City of Atlanta Procurement', url: 'https://www.atlantaga.gov/government/departments/procurement' },\n];\n\nconst STATUS_OPTIONS = [\n  'Started',\n  'In Progress',\n  'Submitted',\n  'Approved',\n  'Rejected'\n];\n\nexport default function Directories() {\n  const [formData, setFormData] = useState({\n    portal: '',\n    url: '',\n    username: '',\n    status: '',\n    submittedDate: format(new Date(), 'yyyy-MM-dd'),\n    notes: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [autoRegister, setAutoRegister] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (formData.portal) {\n      const portal = PORTAL_OPTIONS.find(p => p.id === formData.portal);\n      if (portal) {\n        setFormData(prev => ({\n          ...prev,\n          url: portal.url\n        }));\n      }\n    }\n  }, [formData.portal]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    \n    try {\n      if (autoRegister) {\n        // Enqueue registration job\n        const job = {\n          id: `dir-${Date.now()}`,\n          action: \"register_vendor\",\n          payload: {\n            portal: PORTAL_OPTIONS.find(p => p.id === formData.portal)?.name || formData.portal,\n            portalUrl: formData.url,\n            company: \"Rare Earth Ltd\",\n            contact: { \n              name: \"Eric White\", \n              phone: \"478-718-1278\", \n              email: \"admin@thrarecontracting.com\" \n            },\n            notes: formData.notes || \"\"\n          }\n        };\n        await enqueue(job);\n        toast.success('Vendor registration job enqueued successfully!');\n      } else {\n        // Original directory entry submission\n        await enqueue({\n          type: 'directory_entry',\n          payload: formData\n        });\n        toast.success('Directory entry submitted successfully!');\n      }\n      \n      // Reset form\n      setFormData({\n        portal: '',\n        url: '',\n        username: '',\n        status: '',\n        submittedDate: format(new Date(), 'yyyy-MM-dd'),\n        notes: ''\n      });\n    } catch (error) {\n      console.error('Error submitting directory entry:', error);\n      toast.error(`Error: ${error.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 max-w-4xl\">\n      <h1 className=\"text-2xl font-bold mb-6\">Directory Entry</h1>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"portal\">Portal *</Label>\n            <select\n              id=\"portal\"\n              name=\"portal\"\n              className=\"w-full border rounded px-3 py-2\"\n              value={formData.portal}\n              onChange={(e) =>\n                setFormData(prev => ({ ...prev, portal: e.target.value }))\n              }\n              required\n            >\n              <option value=\"\" disabled>Select a portal</option>\n              {PORTAL_OPTIONS.map(p => (\n                <option key={p.id} value={p.id}>{p.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"url\">URL *</Label>\n          <Input\n            id=\"url\"\n            name=\"url\"\n            value={formData.url}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"username\">Username *</Label>\n          <Input\n            id=\"username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"status\">Status *</Label>\n          <select\n            id=\"status\"\n            name=\"status\"\n            className=\"w-full border rounded px-3 py-2\"\n            value={formData.status}\n            onChange={(e) =>\n              setFormData(prev => ({ ...prev, status: e.target.value }))\n            }\n            required\n          >\n            <option value=\"\" disabled>Select status</option>\n            {STATUS_OPTIONS.map(s => (\n              <option key={s} value={s}>{s}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"submittedDate\">Submitted Date</Label>\n          <Input\n            type=\"date\"\n            id=\"submittedDate\"\n            name=\"submittedDate\"\n            value={formData.submittedDate}\n            onChange={handleChange}\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"notes\">Notes</Label>\n          <Input\n            id=\"notes\"\n            name=\"notes\"\n            value={formData.notes}\n            onChange={handleChange}\n            placeholder=\"Any additional notes...\"\n          />\n        </div>\n\n        <div className=\"flex items-center space-x-2\">\n          <input\n            type=\"checkbox\"\n            id=\"autoRegister\"\n            checked={autoRegister}\n            onChange={(e) => setAutoRegister(e.target.checked)}\n            className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n          />\n          <label htmlFor=\"autoRegister\" className=\"text-sm font-medium text-gray-700\">\n            Auto-register vendor\n          </label>\n        </div>\n\n        <div className=\"flex space-x-4 pt-4\">\n          <Button type=\"submit\" disabled={isSubmitting}>\n            {isSubmitting ? 'Submitting...' : 'Save Entry'}\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => navigate(-1)}\n            disabled={isSubmitting}\n          >\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}"],"names":["PORTAL_OPTIONS","STATUS_OPTIONS","Directories","formData","setFormData","useState","format","isSubmitting","setIsSubmitting","autoRegister","setAutoRegister","navigate","useNavigate","useEffect","portal","p","prev","handleSubmit","e","job","_a","enqueue","toast","error","handleChange","name","value","jsxs","jsx","Label","Input","s","Button"],"mappings":"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"}